[TOC]

### 1.UI卡顿的原理

```
（1）60fps --> 16ms （1000/60）
	每隔16ms会触发一次ui渲染，这样就能达到流畅的画面。也就是说必须在16ms内完成渲染， 

（2）listview的item。那么就无法再16ms内完成渲染，就产生了卡顿。cpu（计算）和Gpu（绘制）负载过重

（3）大量的GC

```

### 2.overdraw过度绘制

```
（1）出现的原因
		ui布局中，大量重叠的地方。
		好几层背景的设置，可以看下。
	
```

### 3.UI卡顿原因分析

1.认为在线程中做轻微耗时操作，导致UI线程卡顿。

​	比如，在做动画的时候，在主线程做了io操作。就会卡一下，美颜相机里面。



2.布局Layout过于复杂，无法在16ms内完成渲染



3.同一时间，动画执行的次数过多，导致cpu或gpu负载过重

4.View过度绘制，导致某些像素在同一帧时间内被绘制多次，从而使cpu或gpu负载过重



5.View频繁的触发measure，layout，导致measure，layout累计耗时过多及整个View频繁的重新渲染。



6.内存频繁触发GC过多，导致暂时阻塞渲染操作



7.冗余资源及逻辑等导致加载和执行缓慢



8.anr



### 4.UI卡顿优化

1.布局优化。

​	比如：



2.列表及Adapter优化

​	列表滑动时不要加载图片。



3.背景和图片等内存分配优化。



4.避免anr。



5.子线程处理耗时操作。



